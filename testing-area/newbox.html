<!DOCTYPE html>
<html>
<head>
    <title>Number Formatting Test</title>
</head>
<body>
    <input type="text" name="unit_price" id="unit_price" oninput="formatInput(this);">
    <script>
        function formatInput(input) {
            let value = input.value.replace(/[^\d.]/g, '');  // Allow digits and decimal point only
            let parts = value.split('.');

            if (parts.length > 1) {
                parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ',');
                value = parts.join('.');
            } else {
                value = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            }

            input.value = value;
        }
    </script>
</body>
</html>
